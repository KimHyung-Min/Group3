<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="BookMapper">

    <!--도서정보입력-->
    <insert id="insertBook" parameterType="book">
        INSERT INTO BOOK(isbn, publisher_number, genre, total_page, price, title, stock, author, publication_date, content, keyword)
        VALUES(#{isbn}, #{publisherNumber}, #{genre}, #{totalPage}, #{price},#{title}, #{stock}, #{author}, #{publicationDate}, #{content}, #{keyword})
    </insert>

    <!--도서 리스트-->
    <select id="bookList" resultType="book">
        	<![CDATA[
		SELECT * FROM book ORDER BY ISBN DESC
		]]>
    </select>

    <!--선택한 ISBN의 도서정보-->
    <select id="selectBook" resultType="book">
        	<![CDATA[
		SELECT * FROM book WHERE ISBN=#{isbn}
		]]>
    </select>

    <!--선택한 ISBN의 도서정보 삭제-->
    <delete id="deleteBook" parameterType="book">
         	<![CDATA[
		DELETE FROM book WHERE ISBN=#{isbn}
		]]>
    </delete>

    <!--선택한 ISBN의 도서정보 업데이트-->
    <update id="updateBook" parameterType="book">
       <![CDATA[
       UPDATE book SET PRICE= #{price} , CONTENT= #{content} WHERE ISBN= #{isbn}
        ]]>
    </update>
이렇게 검색하니까 아무데서나 잘 걸리더라구 이제 어떻게 할거냐면
    조건별로 처리하는거 해봐야대대    <select id="searchBook" parameterType="String" resultType="book">
        SELECT *
        FROM BOOK
        WHERE ((GENRE LIKE '%'||#{keyword}||'%') OR (TITLE LIKE '%'||#{keyword}||'%') OR
               (AUTHOR LIKE '%'||#{keyword}||'%') OR (KEYWORD LIKE '%'||#{keyword}||'%'))
    </select>

  <!--  &lt;!&ndash;통합검색&ndash;&gt;
    <select id="searchBook" parameterType="" resultType="">
        <![CDATA[
       SELECT * FROM book WHERE ((GENRE LIKE '%#{}%') OR (TITLE LIKE '%#{}%') OR (AUTHOR LIKE '%#{}%') OR (KEYWORD LIKE '%#{})%'))
        ]]>
    </select>-->

</mapper>